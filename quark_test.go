package btcutil

import (
	"testing"
	"github.com/phoreproject/btcd/chaincfg/chainhash"
)

// genesisBlockHeaderBytes are the wire encoded bytes for the genesis block of the
// main network as of protocol version 70003.
var genesisBlockHeaderBytes = []byte{
	0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, /* |........| */
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, /* |........| */
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, /* |........| */
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, /* |........| */
	0x00, 0x00, 0x00, 0x00, 0xa3, 0xb3, 0x36, 0x07, /* |......6.| */
	0xcb, 0x85, 0x1a, 0x7c, 0xfc, 0xde, 0x34, 0x8f, /* |...|..4.| */
	0x54, 0x53, 0x8a, 0x20, 0x85, 0xfc, 0xe7, 0x95, /* |TS. ....| */
	0xd3, 0x9d, 0xd8, 0xfe, 0x2c, 0x95, 0x45, 0x7a, /* |....,.Ez| */
	0x13, 0x77, 0x41, 0x89, 0x60, 0xe8, 0xb7, 0x59, /* |.wA.`..Y| */
	0xff, 0xff, 0x7f, 0x20, 0x39, 0x30, 0x00, 0x00, /* |... 90..| */
}

// genesisHash is the hash of the first block in the block chain for the main
// network (genesis block).
var genesisHash = chainhash.Hash([chainhash.HashSize]byte{
	0xbf, 0x85, 0x04, 0x38, 0x7e, 0x10, 0x19, 0x30,
	0xd7, 0x11, 0x95, 0xe8, 0x1c, 0x92, 0x25, 0x5a,
	0x41, 0x19, 0xb9, 0xd5, 0x62, 0x36, 0x28, 0xad,
	0x59, 0xad, 0x2a, 0x71, 0x66, 0x0f, 0x1a, 0x2b,
})

func TestQuark(t *testing.T) {
	h := New()
	out := h.Hash(genesisBlockHeaderBytes)

	if out != genesisHash {
		t.Fatalf("TestGenesisBlock: Genesis block hash does not "+
			"appear valid - got %v, want %v", out,
			genesisHash)
	}
}
